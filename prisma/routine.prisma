model Routine {
    id             String          @id @default(uuid())
    routineName    String
    routineOwner   Account         @relation("AccountCreatedRoutines", fields: [ownerAccountId], references: [id])
    ownerAccountId String
    routineMembers RoutineMember[] @relation("RoutineMembers") // Relation to RoutineMember
    classes        Class[]         @relation("RoutineClasses") // Relation to Class
    weekdays       Weekday[]       @relation("RoutineWeekdays") // Relation to Weekday
    createdAt      DateTime        @default(now())
    updatedAt      DateTime        @updatedAt
}

model Class {
    id             String    @id @default(uuid()) // Primary key
    name           String // Name of the class
    instructorName String // Name of the instructor
    subjectCode    String // Subject code for the class
    routineId      String // Foreign key to Routine
    routine        Routine   @relation("RoutineClasses", fields: [routineId], references: [id], onDelete: Cascade) // Relation to Routine
    weekdays       Weekday[] @relation("ClassWeekdays") // Relation to Weekday
    createdAt      DateTime  @default(now()) // Auto-generated timestamp for creation
    updatedAt      DateTime  @updatedAt // Auto-generated timestamp for updates
}

model Weekday {
    id        String   @id @default(uuid()) // Primary key
    routineId String // Foreign key to Routine
    routine   Routine  @relation("RoutineWeekdays", fields: [routineId], references: [id], onDelete: Cascade) // Relation to Routine
    classId   String // Foreign key to Class
    class     Class    @relation("ClassWeekdays", fields: [classId], references: [id], onDelete: Cascade) // Relation to Class
    room      String // Room information
    Day       Day // select day by enum
    startTime DateTime // Start time for the first shift
    endTime   DateTime // End time for the first shift
    createdAt DateTime @default(now()) // Auto-generated timestamp for creation
    updatedAt DateTime @updatedAt // Auto-generated timestamp for updates
}
